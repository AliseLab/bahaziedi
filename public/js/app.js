$(document).ready(function(){var b=function(){var b=$("header").height();$("section").each(function(){var a=$(this),c=a.find("article"),d=a.find("> h1 ");if(0<c.length&&0<d.length){c.css("position","absolute");var f=$(window).innerHeight()-b,g=a.innerWidth(),h=c.outerHeight(),k=c.outerWidth(),d=d.outerHeight(),l=(a.outerHeight()-a.height())/2,m=(a.outerWidth()-a.width())/2;c.css("left",(g-k+m)/2+"px");f-d>h?(c.css("top",(f-h)/2+d+"px"),a.css("height",f-2*l+"px")):f-d<h&&(c.css("position","static"),
a.css("height",h+d+b+"px"))}})};$(window).on("resize",b);setTimeout(b,100)});var sectiontop={},updatepositions=function(){sectiontop={};$("section").each(function(){sectiontop[$(this).offset().top]=$(this)})},unfade=function(){var b=$(window).scrollTop()+0.8*$(window).height(),e=null,a;for(a in sectiontop)if(e=sectiontop[a],a<=b&&(e.hasClass("faded")&&e.css("opacity",0).removeClass("faded").animate({opacity:1},1500),!$("body").hasClass("scrolling"))){var c=e.attr("data-section");$("header nav a").each(function(){var a=$(this);a.attr("href")=="#"+c?a.hasClass("active")||a.addClass("active"):
a.removeClass("active")})}};$(window).on("resize",function(){updatepositions();unfade()});$(window).on("scroll",unfade);updatepositions();setTimeout(unfade,1);$(document).ready(function(){var b=$("header"),e=b.find("nav");b.find(".mobile-menu").on("click",function(){var a=$(this);a.hasClass("active")?(a.removeClass("active"),e.removeClass("mobile-visible")):(a.addClass("active"),e.addClass("mobile-visible"))});b.find("a").on("click",function(){var a=$("header .mobile-menu");a.hasClass("active")&&(a.removeClass("active"),e.removeClass("mobile-visible"))});var a=function(){b.stop().removeClass("hiding").removeClass("hidden").css({top:"0px",opacity:"1"})},
c=function(a){b.hasClass("hiding")||(b.addClass("hiding"),b.stop().css("overflow","hidden").animate({top:"-"+(b.height()-20)+"px",opacity:"0.5"},a,function(){b.removeClass("hiding").addClass("hidden")}))},d=function(a){300>=$(window).height()&&(0<$(window).scrollTop()&&!e.hasClass("mobile-visible"))&&c(a)},f=!1;$("body").on("mousedown",function(){f?(a(),f=!1):d("fast")});b.on("mousedown",function(){f=!0});$(window).on("scroll",function(){0==$(window).scrollTop()?a():d("slow")});var g=function(){e.css("top",
b.outerHeight()+"px");a()};$(window).on("resize",g);g()});$(document).ready(function(){var b=null;$("body").on("click","a",function(){var a=$(this).attr("href");if("#"==a.substring(0,1)){var c=$(a);if(0<c.length){var d=c.attr("id");b!=d&&(b=d,c.attr("id",""),$("body").addClass("hashchange"),window.location.hash=a,$("body").removeClass("hashchange"),c.attr("id",d),$("body").addClass("scrolling"),a=c.offset().top,a=300<$(window).height()?a-$("header").height():a-20,$("html, body").stop().animate({scrollTop:a},400,function(){b=null;$("body").removeClass("scrolling")}))}return!1}});
var e=function(){if(!$("body").hasClass("hashchange")){var a=$('a[href="'+window.location.hash+'"]');0<a.length?a.click():($('a[href="#home"]').click(),$(window).scrollTop(0))}$(".languages a").each(function(){var a=$(this).attr("href"),b=a.indexOf("#");0<=b&&(a=a.substring(0,b));$(this).attr("href",a+window.location.hash)})};$(window).bind("hashchange",e);setTimeout(e,1)});$(document).ready(function(){$(".switcher").each(function(){var b=$(this);b.on("click","a",function(){b.find("a").removeClass("active");$(this).addClass("active")})})});
